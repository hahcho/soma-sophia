<div class="follow-along-card">
    @if (ongoingSuperset().repetitions > 1) {
        <label>
            Superset â€¢ Set {{ ongoingSuperset().currentSet }}/{{ ongoingSuperset().repetitions }}
        </label>
    }
    <h3 class="superset-progress">
        Exercise {{ ongoingSuperset().index + 1 }}/{{ ongoingSuperset().totalExercises }}
    </h3>
    <h1>{{ ongoingSuperset().exercise.name }}</h1>
    <h3>
        {{ ongoingSuperset().exercise | exerciseTarget }}
    </h3>
    @switch (ongoingSuperset().state) {
        @case ('starting') {
            <ss-timer label="Ready to start" [running]="false"></ss-timer>
            <button class="primary" (click)="moveToNextState()">Start</button>
        }
        @case ('started') {
            <ss-timer label="Started" [running]="true"></ss-timer>
            <button class="secondary" (click)="moveToNextState()">Complete</button>
        }
        @case ('resting') {
            <ss-timer class="warning"
                      [label]="'Rest (' + (ongoingSuperset().restTime | formatSeconds) + ' target)'"
                      [running]="true"
                      [limit]="ongoingSuperset().restTime"
                      (finished)="moveToNextState()">
            </ss-timer>
            <button class="secondary" (click)="moveToNextState()">Skip Rest</button>
        }
    }
</div>
