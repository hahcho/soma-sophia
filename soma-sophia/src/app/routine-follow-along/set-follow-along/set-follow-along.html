<div class='follow-along-card'>
    <h1>{{ ongoingSet().exercise.name }}</h1>
    <h3>
        @if (ongoingSet().repetitions > 1) {
            Set {{ ongoingSet().currentSet }}/{{ ongoingSet().repetitions }} â€¢
        }
        {{ ongoingSet().exercise | exerciseTarget }}
    </h3>
    @switch (ongoingSet().state) {
        @case ('starting') {
            <ss-timer label="Ready to start" [running]="false"></ss-timer>
            <button class="primary" (click)="moveToNextState()">Start</button>
        }
        @case ('started') {
            <ss-timer label="Started" [running]="true"></ss-timer>
            <button class="secondary" (click)="moveToNextState()">Complete</button>
        }
        @case ('resting') {
            <ss-timer class="warning"
                      [label]="'Rest (' + (ongoingSet().restTime | formatSeconds) + ' target)'"
                      [running]="true"
                      [limit]="ongoingSet().restTime"
                      (finished)="moveToNextState()">
            </ss-timer>
            <button class="secondary" (click)="moveToNextState()">Skip Rest</button>
        }
    }
</div>
